

# 文件加密/解密/粉碎工具

<img width="585" height="585" alt="image-20250720233412367" src="https://github.com/user-attachments/assets/b1543e31-4e21-4b36-973a-7811d7d66ab6" />


- 一个基于Python开发的现代化文件加密解密工具，采用RSA+AES混合加密算法，提供安全可靠的文件保护解决方案。


## 🔐 软件特性

- **混合加密算法**：采用RSA 2048位 + AES 256位混合加密，确保文件安全
- **现代化界面**：VSCode暗黑主题风格，圆角卡片设计，用户体验友好
- **实时进度显示**：加密解密过程可视化，支持进度条和状态提示
- **自动密钥管理**：首次运行自动生成RSA密钥对，后续自动加载
- **多线程处理**：后台处理文件操作，界面响应流畅
- **跨平台兼容**：支持Windows 7/10/11系统

## 📋 系统要求

- **操作系统**：Windows 7/10/11

## 🚀 安装与运行

### 1. 运行程序

- 绿色程序，无需安装。双击encryption.exe启动



### 2. 主界面

<img width="522" height="787" alt="image-20250721092520730" src="https://github.com/user-attachments/assets/d9270dd8-e775-4374-8ef6-124a4f3d33f7" />


## 💡 使用方法

### 生成密钥

<font color='red'>程序第一次启动时会自动在当前目录下随机生成2个RSA密钥（公钥+私钥），私钥极其重要！！！请妥善保存！！！生成密钥后，任何加密的文件都会使用这一对密钥，这对密钥一旦被删除后，原本用这对密钥加密过的所有文件将无法解密！！！</font>

### 文件加密

1. 点击"🔒 文件加密"卡片中的"Start"按钮
2. 在弹出的文件选择对话框中选择要加密的文件
3. 程序将自动进行以下步骤：
   - 生成随机AES密钥和初始化向量(IV)
   - 使用AES算法加密文件内容
   - 使用RSA公钥加密AES密钥
   - 将IV、加密的密钥和加密的数据合并保存
4. 加密完成后，在原文件同目录下生成`.encrypted`后缀的加密文件

### 文件解密

1. 点击"🔓 文件解密"卡片中的"Start"按钮
2. 选择要解密的`.encrypted`文件
3. 程序将自动进行以下步骤：
   - 从加密文件中提取IV、加密的密钥和加密的数据
   - 使用RSA私钥解密AES密钥
   - 使用解密后的AES密钥和IV解密文件内容
   - 保存解密后的原始文件
4. 解密完成后，生成去除`.encrypted`后缀的原始文件

### 文件粉碎

1. 点击“💀 文件粉碎”卡片中的"Start"按钮，选择要粉碎的文件。
2. 程序会弹出警示框，请再次确认是否要粉碎文件（这不是单纯的删除，而是粉碎，用任何数据恢复工具都无法恢复）

## 🔑 密钥文件说明

程序运行时会在同目录下自动生成两个重要的密钥文件：

### private_key.pem（私钥文件）

- **作用**：用于解密文件，是解密的唯一凭证
- **重要性**：⚠️ **极其重要** - 丢失此文件将无法解密任何加密文件
- **安全性**：包含敏感信息，需要妥善保管

### public_key.pem（公钥文件）

- **作用**：用于加密文件
- **重要性**：相对较低，丢失后可从私钥重新生成
- **安全性**：可以公开，不包含敏感信息

##  🔴重要注意事项

### 密钥安全管理

1. **备份私钥**：
   - 务必将`private_key.pem`文件备份到安全位置
   - 建议制作多个备份副本，存储在不同位置
   - 可以将私钥文件复制到U盘、云盘等安全存储介质

2. **私钥保护**：
   - 不要将私钥文件发送给他人
   - 不要将私钥上传到不安全的网络位置
   - 建议对私钥文件本身进行额外加密保护

3. **密钥丢失后果**：
   - 如果`private_key.pem`丢失，所有使用该密钥加密的文件将**永久无法解密**
   - 程序重新运行会生成新的密钥对，但无法解密旧密钥加密的文件

### 使用建议

1. **首次使用**：
   - 运行程序后立即备份生成的密钥文件
   - 可以先用不重要的测试文件验证加密解密功能

2. **密钥迁移**：
   - 更换电脑时，需要将密钥文件复制到新环境
   - 确保密钥文件与程序在同一目录下

3. **批量操作**：
   - 程序支持逐个文件处理
   - 超大文件加密可能需要较长时间，请耐心等待（实测128M的文件加密约3秒）

## 🔒 安全特性

### 加密算法

- **RSA 2048位**：用于密钥加密，提供非对称加密安全性
- **AES 256位 CFB模式**：用于文件内容加密，提供高效的对称加密
- **随机IV**：每次加密使用不同的初始化向量，增强安全性

### 安全优势

- 混合加密结合了RSA和AES的优点
- 即使AES密钥被截获，没有RSA私钥也无法解密
- 每次加密生成不同的密钥和IV，避免重复攻击

### 文件粉碎的工作原理

1. **多轮覆写**：使用3轮不同模式的数据覆写
   - 第1轮：随机数据覆写
   - 第2轮：全零数据覆写
   - 第3轮：最终随机数据覆写
2. **强制磁盘写入**：使用`os.fsync()`确保数据真正写入磁盘而不是缓存
3. **块级处理**：64KB块大小处理，适合各种文件大小
4. **安全删除**：覆写完成后删除文件系统记录

#### 为什么能防止数据恢复

- **覆盖原理**：数据恢复工具依赖于磁盘上的残留数据，多轮覆写可以消除这些痕迹
- **随机模式**：使用随机数据破坏原始数据的磁性特征
- **零填充**：确保数据位完全重置
- **强制同步**：绕过操作系统缓存，直接写入磁盘

#### 文件粉碎安全特性

- **二次确认**：防止误操作
- **进度显示**：大文件处理时显示详细进度
- **错误处理**：完善的异常处理机制
- **不可逆警告**：明确提示操作的危险性

## 🛠️ 技术架构

- **界面框架**：Tkinter + Canvas（圆角UI设计）
- **加密库**：cryptography（工业级加密标准）
- **多线程**：避免界面冻结，提升用户体验
- **异常处理**：完善的错误处理和用户提示

## 📝 版本信息

- **版本**：1.1
- **开发者**：Fread.Z
- **开发年份**：2025
- **许可证**：请遵守相关法律法规使用

## ❓ 常见问题

### Q: 加密后的文件可以在其他电脑上解密吗？

A: 可以，但需要将`private_key.pem`文件复制到目标电脑，并确保目标电脑安装了相同的程序。

### Q: 忘记了加密文件的位置怎么办？

A: 加密文件默认保存在原文件同目录下，文件名为"原文件名.encrypted"。

### Q: 程序提示"解密失败"怎么办？

A: 请检查：

- 选择的文件是否为正确的`.encrypted`文件
- `private_key.pem`文件是否存在且完整
- 加密文件是否被损坏或修改

### Q: 可以加密文件夹吗？

A: 当前版本仅支持单个文件加密，不支持文件夹。建议先将文件夹压缩为ZIP文件再进行加密。

### Q：粉碎的文件还能恢复吗？

A：不能。所以粉碎前自己注意一点！

### Q：如果程序本身和加密过的文件一同被盗，或者程序被逆向，会不会造成加密文件泄密？

A：如果程序本身和加密过的文件一同被盗，但私钥未泄露的情况下，仍旧无法解密之前加密过的文件。程序不可避免存在被逆向工程的可能性，但程序本身封装时已经使用了加密封装方式，逆向工程会相当困难。



---

**⚠️ 免责声明**：<font color='red'>请合法使用本工具，开发者不承担因使用本工具造成的任何损失。使用前请务必备份重要文件和密钥。</font>

